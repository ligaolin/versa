import{a7 as _,a8 as X,M as me,C as K,D as T,l as M,H as P,w as A,K as q,a9 as at,aa as nt,ab as Y,ac as he,ad as ot,F as v,ae as st,x as be,A as ee,af as ut,S as te,ag as le,a as k,r as fe,G as ae,R as xe,o as ye,b as $e,ah as b,N as R,J as Me,ai as Pe,aj as rt,ak as it,a1 as V,T as ge,al as dt,am as pt,an as Ae,B as ke,ao as ct,ap as vt,aq as mt,ar as ht,as as bt,at as ze,au as ft,av as xt,aw as yt,a0 as Mt,c as D,d as Z,L as ne,q as gt,t as Ce,Q as kt,U as Ie,Z as Ct,ax as It,u as St,I as Ne,W as oe,e as _t,__tla as wt}from"./index-7aad57f9.js";import{_ as Et,__tla as Tt}from"./index-06dfe02c.js";let Be,se,je,Ot=Promise.all([(()=>{try{return wt}catch{}})(),(()=>{try{return Tt}catch{}})()]).then(async()=>{let Le=class{constructor(e,t){this.parent=e,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,t=>{t.addEventListener("keydown",i=>{let n=!1;switch(i.code){case _.down:{this.gotoSubIndex(this.subIndex+1),n=!0;break}case _.up:{this.gotoSubIndex(this.subIndex-1),n=!0;break}case _.tab:{X(e,"mouseleave");break}case _.enter:case _.space:{n=!0,i.currentTarget.click();break}}return n&&(i.preventDefault(),i.stopPropagation()),!1})})}},qe=class{constructor(e,t){this.domNode=e,this.submenu=null,this.submenu=null,this.init(t)}init(e){this.domNode.setAttribute("tabindex","0");const t=this.domNode.querySelector(`.${e}-menu`);t&&(this.submenu=new Le(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let t=!1;switch(e.code){case _.down:{X(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break}case _.up:{X(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break}case _.tab:{X(e.currentTarget,"mouseleave");break}case _.enter:case _.space:{t=!0,e.currentTarget.click();break}}t&&e.preventDefault()})}},We=class{constructor(e,t){this.domNode=e,this.init(t)}init(e){const t=this.domNode.childNodes;Array.from(t).forEach(i=>{i.nodeType===1&&new qe(i,e)})}};const Re=K({name:"ElMenuCollapseTransition",setup(){const e=T("menu");return{listeners:{onBeforeEnter:t=>t.style.opacity="0.2",onEnter(t,i){Y(t,`${e.namespace.value}-opacity-transition`),t.style.opacity="1",i()},onAfterEnter(t){he(t,`${e.namespace.value}-opacity-transition`),t.style.opacity=""},onBeforeLeave(t){t.dataset||(t.dataset={}),ot(t,e.m("collapse"))?(he(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),Y(t,e.m("collapse"))):(Y(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),he(t,e.m("collapse"))),t.style.width=`${t.scrollWidth}px`,t.style.overflow="hidden"},onLeave(t){Y(t,"horizontal-collapse-transition"),t.style.width=`${t.dataset.scrollWidth}px`}}}}});function De(e,t,i,n,m,C){return M(),P(nt,at({mode:"out-in"},e.listeners),{default:A(()=>[q(e.$slots,"default")]),_:3},16)}var Fe=me(Re,[["render",De],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function Se(e,t){const i=v(()=>{let n=e.parent;const m=[t.value];for(;n.type.name!=="ElMenu";)n.props.index&&m.unshift(n.props.index),n=n.parent;return m});return{parentMenu:v(()=>{let n=e.parent;for(;n&&!["ElMenu","ElSubMenu"].includes(n.type.name);)n=n.parent;return n}),indexPath:i}}function Ge(e){return v(()=>{const t=e.backgroundColor;return t?new st(t).shade(20).toString():""})}const _e=(e,t)=>{const i=T("menu");return v(()=>i.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":Ge(e).value||"","active-color":e.activeTextColor||"",level:`${t}`}))},Ue=be({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:ee},expandOpenIcon:{type:ee},collapseCloseIcon:{type:ee},collapseOpenIcon:{type:ee}}),J="ElSubMenu";var ue=K({name:J,props:Ue,setup(e,{slots:t,expose:i}){ut({from:"popper-append-to-body",replacement:"teleported",scope:J,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},v(()=>e.popperAppendToBody!==void 0));const n=ge(),{indexPath:m,parentMenu:C}=Se(n,v(()=>e.index)),d=T("menu"),h=T("sub-menu"),o=te("rootMenu");o||le(J,"can not inject root menu");const s=te(`subMenu:${C.value.uid}`);s||le(J,"can not inject sub menu");const p=k({}),f=k({});let x;const O=k(!1),de=k(),Q=k(null),z=v(()=>l.value==="horizontal"&&N.value?"bottom-start":"right-start"),W=v(()=>l.value==="horizontal"&&N.value||l.value==="vertical"&&!o.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?I.value?e.expandOpenIcon:e.expandCloseIcon:dt:e.collapseCloseIcon&&e.collapseOpenIcon?I.value?e.collapseOpenIcon:e.collapseCloseIcon:pt),N=v(()=>s.level===0),F=v(()=>{var r;const c=(r=e.teleported)!=null?r:e.popperAppendToBody;return c===void 0?N.value:c}),pe=v(()=>o.props.collapse?`${d.namespace.value}-zoom-in-left`:`${d.namespace.value}-zoom-in-top`),ce=v(()=>l.value==="horizontal"&&N.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),I=v(()=>o.openedMenus.includes(e.index)),B=v(()=>{let r=!1;return Object.values(p.value).forEach(c=>{c.active&&(r=!0)}),Object.values(f.value).forEach(c=>{c.active&&(r=!0)}),r}),G=v(()=>o.props.backgroundColor||""),U=v(()=>o.props.activeTextColor||""),j=v(()=>o.props.textColor||""),l=v(()=>o.props.mode),a=fe({index:e.index,indexPath:m,active:B}),u=_e(o.props,s.level+1),S=v(()=>l.value!=="horizontal"?{color:j.value}:{borderBottomColor:B.value?o.props.activeTextColor?U.value:"":"transparent",color:B.value?U.value:j.value}),L=()=>{var r,c,y;return(y=(c=(r=Q.value)==null?void 0:r.popperRef)==null?void 0:c.popperInstanceRef)==null?void 0:y.destroy()},w=r=>{r||L()},$=()=>{o.props.menuTrigger==="hover"&&o.props.mode==="horizontal"||o.props.collapse&&o.props.mode==="vertical"||e.disabled||o.handleSubMenuClick({index:e.index,indexPath:m.value,active:B.value})},E=(r,c=e.showTimeout)=>{var y;r.type!=="focus"&&(o.props.menuTrigger==="click"&&o.props.mode==="horizontal"||!o.props.collapse&&o.props.mode==="vertical"||e.disabled||(s.mouseInChild.value=!0,x==null||x(),{stop:x}=Ae(()=>{o.openMenu(e.index,m.value)},c),F.value&&((y=C.value.vnode.el)==null||y.dispatchEvent(new MouseEvent("mouseenter")))))},g=(r=!1)=>{var c,y;o.props.menuTrigger==="click"&&o.props.mode==="horizontal"||!o.props.collapse&&o.props.mode==="vertical"||(x==null||x(),s.mouseInChild.value=!1,{stop:x}=Ae(()=>!O.value&&o.closeMenu(e.index,m.value),e.hideTimeout),F.value&&r&&((c=n.parent)==null?void 0:c.type.name)==="ElSubMenu"&&((y=s.handleMouseleave)==null||y.call(s,!0)))};ae(()=>o.props.collapse,r=>w(!!r));{const r=y=>{f.value[y.index]=y},c=y=>{delete f.value[y.index]};xe(`subMenu:${n.uid}`,{addSubMenu:r,removeSubMenu:c,handleMouseleave:g,mouseInChild:O,level:s.level+1})}return i({opened:I}),ye(()=>{o.addSubMenu(a),s.addSubMenu(a)}),$e(()=>{s.removeSubMenu(a),o.removeSubMenu(a)}),()=>{var r;const c=[(r=t.title)==null?void 0:r.call(t),b(Me,{class:h.e("icon-arrow"),style:{transform:I.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&o.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>R(W.value)?b(n.appContext.components[W.value]):b(W.value)})],y=o.isMenuPopup?b(Pe,{ref:Q,visible:I.value,effect:"light",pure:!0,offset:e.popperOffset,showArrow:!1,persistent:!0,popperClass:e.popperClass,placement:z.value,teleported:F.value,fallbackPlacements:ce.value,transition:pe.value,gpuAcceleration:!1},{content:()=>{var H;return b("div",{class:[d.m(l.value),d.m("popup-container"),e.popperClass],onMouseenter:ve=>E(ve,100),onMouseleave:()=>g(!0),onFocus:ve=>E(ve,100)},[b("ul",{class:[d.b(),d.m("popup"),d.m(`popup-${z.value}`)],style:u.value},[(H=t.default)==null?void 0:H.call(t)])])},default:()=>b("div",{class:h.e("title"),style:[S.value,{backgroundColor:G.value}],onClick:$},c)}):b(V,{},[b("div",{class:h.e("title"),style:[S.value,{backgroundColor:G.value}],ref:de,onClick:$},c),b(Et,{},{default:()=>{var H;return rt(b("ul",{role:"menu",class:[d.b(),d.m("inline")],style:u.value},[(H=t.default)==null?void 0:H.call(t)]),[[it,I.value]])}})]);return b("li",{class:[h.b(),h.is("active",B.value),h.is("opened",I.value),h.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:I.value,onMouseenter:E,onMouseleave:()=>g(!0),onFocus:E},[y])}}});const He=be({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:ke(Array),default:()=>ct([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),re=e=>Array.isArray(e)&&e.every(t=>R(t));var Ke=K({name:"ElMenu",props:He,emits:{close:(e,t)=>R(e)&&re(t),open:(e,t)=>R(e)&&re(t),select:(e,t,i,n)=>R(e)&&re(t)&&bt(i)&&(n===void 0||n instanceof Promise)},setup(e,{emit:t,slots:i,expose:n}){const m=ge(),C=m.appContext.config.globalProperties.$router,d=k(),h=T("menu"),o=T("sub-menu"),s=k(-1),p=k(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),f=k(e.defaultActive),x=k({}),O=k({}),de=v(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),Q=()=>{const l=f.value&&x.value[f.value];!l||e.mode==="horizontal"||e.collapse||l.indexPath.forEach(a=>{const u=O.value[a];u&&z(a,u.indexPath)})},z=(l,a)=>{p.value.includes(l)||(e.uniqueOpened&&(p.value=p.value.filter(u=>a.includes(u))),p.value.push(l),t("open",l,a))},W=l=>{const a=p.value.indexOf(l);a!==-1&&p.value.splice(a,1)},N=(l,a)=>{W(l),t("close",l,a)},F=({index:l,indexPath:a})=>{p.value.includes(l)?N(l,a):z(l,a)},pe=l=>{(e.mode==="horizontal"||e.collapse)&&(p.value=[]);const{index:a,indexPath:u}=l;if(!(ze(a)||ze(u)))if(e.router&&C){const S=l.route||a,L=C.push(S).then(w=>(w||(f.value=a),w));t("select",a,u,{index:a,indexPath:u,route:S},L)}else f.value=a,t("select",a,u,{index:a,indexPath:u})},ce=l=>{const a=x.value,u=a[l]||f.value&&a[f.value]||a[e.defaultActive];u?f.value=u.index:f.value=l},I=()=>{var l,a;if(!d.value)return-1;const u=Array.from((a=(l=d.value)==null?void 0:l.childNodes)!=null?a:[]).filter(r=>r.nodeName!=="#comment"&&(r.nodeName!=="#text"||r.nodeValue)),S=64,L=Number.parseInt(getComputedStyle(d.value).paddingLeft,10),w=Number.parseInt(getComputedStyle(d.value).paddingRight,10),$=d.value.clientWidth-L-w;let E=0,g=0;return u.forEach((r,c)=>{E+=r.offsetWidth||0,E<=$-S&&(g=c+1)}),g===u.length?-1:g},B=(l,a=33.34)=>{let u;return()=>{u&&clearTimeout(u),u=setTimeout(()=>{l()},a)}};let G=!0;const U=()=>{const l=()=>{s.value=-1,xt(()=>{s.value=I()})};G?l():B(l)(),G=!1};ae(()=>e.defaultActive,l=>{x.value[l]||(f.value=""),ce(l)}),ae(()=>e.collapse,l=>{l&&(p.value=[])}),ae(x.value,Q);let j;vt(()=>{e.mode==="horizontal"&&e.ellipsis?j=ft(d,U).stop:j==null||j()});{const l=u=>{O.value[u.index]=u},a=u=>{delete O.value[u.index]};xe("rootMenu",fe({props:e,openedMenus:p,items:x,subMenus:O,activeIndex:f,isMenuPopup:de,addMenuItem:u=>{x.value[u.index]=u},removeMenuItem:u=>{delete x.value[u.index]},addSubMenu:l,removeSubMenu:a,openMenu:z,closeMenu:N,handleMenuItemClick:pe,handleSubMenuClick:F})),xe(`subMenu:${m.uid}`,{addSubMenu:l,removeSubMenu:a,mouseInChild:k(!1),level:0})}return ye(()=>{e.mode==="horizontal"&&new We(m.vnode.el,h.namespace.value)}),n({open:l=>{const{indexPath:a}=O.value[l];a.forEach(u=>z(u,a))},close:W,handleResize:U}),()=>{var l,a;let u=(a=(l=i.default)==null?void 0:l.call(i))!=null?a:[];const S=[];if(e.mode==="horizontal"&&d.value){const $=mt(u),E=s.value===-1?$:$.slice(0,s.value),g=s.value===-1?[]:$.slice(s.value);g!=null&&g.length&&e.ellipsis&&(u=E,S.push(b(ue,{index:"sub-menu-more",class:o.e("hide-arrow")},{title:()=>b(Me,{class:o.e("icon-more")},{default:()=>b(ht)}),default:()=>g})))}const L=_e(e,0),w=b("ul",{key:String(e.collapse),role:"menubar",ref:d,style:L.value,class:{[h.b()]:!0,[h.m(e.mode)]:!0,[h.m("collapse")]:e.collapse}},[...u,...S]);return e.collapseTransition&&e.mode==="vertical"?b(Fe,()=>w):w}}});const Ve=be({index:{type:ke([String,null]),default:null},route:{type:ke([String,Object])},disabled:Boolean}),Ze={click:e=>R(e.index)&&Array.isArray(e.indexPath)},ie="ElMenuItem",Je=K({name:ie,components:{ElTooltip:Pe},props:Ve,emits:Ze,setup(e,{emit:t}){const i=ge(),n=te("rootMenu"),m=T("menu"),C=T("menu-item");n||le(ie,"can not inject root menu");const{parentMenu:d,indexPath:h}=Se(i,yt(e,"index")),o=te(`subMenu:${d.value.uid}`);o||le(ie,"can not inject sub menu");const s=v(()=>e.index===n.activeIndex),p=fe({index:e.index,indexPath:h,active:s}),f=()=>{e.disabled||(n.handleMenuItemClick({index:e.index,indexPath:h.value,route:e.route}),t("click",p))};return ye(()=>{o.addSubMenu(p),n.addMenuItem(p)}),$e(()=>{o.removeSubMenu(p),n.removeMenuItem(p)}),{parentMenu:d,rootMenu:n,active:s,nsMenu:m,nsMenuItem:C,handleClick:f}}});function Qe(e,t,i,n,m,C){const d=Mt("el-tooltip");return M(),D("li",{class:ne([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:t[0]||(t[0]=(...h)=>e.handleClick&&e.handleClick(...h))},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(M(),P(d,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:A(()=>[q(e.$slots,"title")]),default:A(()=>[Z("div",{class:ne(e.nsMenu.be("tooltip","trigger"))},[q(e.$slots,"default")],2)]),_:3},8,["effect"])):(M(),D(V,{key:1},[q(e.$slots,"default"),q(e.$slots,"title")],64))],2)}var we=me(Je,[["render",Qe],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const Xe={title:String},Ye="ElMenuItemGroup",et=K({name:Ye,props:Xe,setup(){return{ns:T("menu-item-group")}}});function tt(e,t,i,n,m,C){return M(),D("li",{class:ne(e.ns.b())},[Z("div",{class:ne(e.ns.e("title"))},[e.$slots.title?q(e.$slots,"title",{key:1}):(M(),D(V,{key:0},[gt(Ce(e.title),1)],64))],2),Z("ul",null,[q(e.$slots,"default")])],2)}var Ee=me(et,[["render",tt],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);let Te;Be=kt(Ke,{MenuItem:we,MenuItemGroup:Ee,SubMenu:ue}),Te=Ie(we),Ie(Ee);const lt=Ie(ue);let Oe;Oe=["onClick"],se={__name:"adminMenu",props:["data"],setup(e){const t=e.data,i=Ct(),n=m=>{m.type=="\u9875\u9762"&&i.push("/"+m.path)};return(m,C)=>{const d=Me,h=lt,o=Te;return M(!0),D(V,null,It(St(t),s=>(M(),D(V,null,[s.children&&s.children.length&&s.show=="\u662F"?(M(),P(h,{key:0,index:s.id+""},{title:A(()=>[s.level==1?(M(),P(d,{key:0,onClick:p=>n(s)},{default:A(()=>[(M(),P(Ne(s.icon)))]),_:2},1032,["onClick"])):oe("",!0),Z("span",{onClick:p=>n(s)},Ce(s.name),9,Oe)]),default:A(()=>[_t(se,{data:s.children},null,8,["data"])]),_:2},1032,["index"])):oe("",!0),(!s.children||!s.children.length)&&s.show=="\u662F"?(M(),P(o,{key:1,index:s.id+"",onClick:p=>n(s)},{default:A(()=>[s.level==1?(M(),P(d,{key:0},{default:A(()=>[(M(),P(Ne(s.icon)))]),_:2},1024)):oe("",!0),Z("span",null,Ce(s.name),1)]),_:2},1032,["index","onClick"])):oe("",!0)],64))),256)}}},je=Object.freeze(Object.defineProperty({__proto__:null,default:se},Symbol.toStringTag,{value:"Module"}))});export{Be as E,se as _,Ot as __tla,je as a};
