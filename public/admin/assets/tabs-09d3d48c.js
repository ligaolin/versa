import{aJ as Ie,aq as Qe,a_ as Xe,x as O,B as ee,ao as be,C as J,S as ae,ag as te,D,a as m,G as V,av as le,au as me,l as L,c as U,L as fe,u as F,n as Ye,M as ye,a$ as A,T as W,b0 as Ze,b1 as ea,F as q,o as he,aK as aa,e as i,J as z,b2 as ta,am as la,b3 as sa,a7 as j,af as na,R as oa,b4 as ra,K as ge,aP as Ce,b5 as _e,N as ua,z as ia,V as da,b6 as ke,r as ca,b7 as va,aj as pa,ak as ba,W as se,Q as ma,U as fa,_ as ya,a0 as $e,w as H,a1 as ne,P as we,a2 as ha,ax as ga,H as Te,d as Ca,t as _a,aH as xe,E as oe,a4 as ka,__tla as $a}from"./index-8a19135e.js";import wa,{__tla as Ta}from"./tabsEdit-5c265ed6.js";import{__tla as xa}from"./other-c7b5f4f5.js";let Ne,Na=Promise.all([(()=>{try{return $a}catch{}})(),(()=>{try{return Ta}catch{}})(),(()=>{try{return xa}catch{}})()]).then(async()=>{const Pe=(e,s,r)=>Qe(e.subTree).filter(d=>{var l;return Xe(d)&&((l=d.type)==null?void 0:l.name)===s&&!!d.component}).map(d=>d.component.uid).map(d=>r[d]).filter(d=>!!d),Se=(e,s)=>{const r={},d=Ie([]);return{children:d,addChild:l=>{r[l.uid]=l,d.value=Pe(e,s,r)},removeChild:l=>{delete r[l],d.value=d.value.filter(t=>t.uid!==l)}}},M=Symbol("tabsRootContextKey"),Be=O({tabs:{type:ee(Array),default:()=>be([])}}),re="ElTabBar",Ee=J({name:re}),Re=J({...Ee,props:Be,setup(e,{expose:s}){const r=e,d=W(),l=ae(M);l||te(re,"<el-tabs><el-tab-bar /></el-tabs>");const t=D("tabs"),u=m(),B=m(),c=()=>{let f=0,y=0;const p=["top","bottom"].includes(l.props.tabPosition)?"width":"height",a=p==="width"?"x":"y",h=a==="x"?"left":"top";return r.tabs.every(k=>{var w,n;const g=(n=(w=d.parent)==null?void 0:w.refs)==null?void 0:n[`tab-${k.uid}`];if(!g)return!1;if(!k.active)return!0;f=g[`offset${A(h)}`],y=g[`client${A(p)}`];const $=window.getComputedStyle(g);return p==="width"&&(r.tabs.length>1&&(y-=Number.parseFloat($.paddingLeft)+Number.parseFloat($.paddingRight)),f+=Number.parseFloat($.paddingLeft)),!1}),{[p]:`${y}px`,transform:`translate${A(a)}(${f}px)`}},C=()=>B.value=c();return V(()=>r.tabs,async()=>{await le(),C()},{immediate:!0}),me(u,()=>C()),s({ref:u,update:C}),(f,y)=>(L(),U("div",{ref_key:"barRef",ref:u,class:fe([F(t).e("active-bar"),F(t).is(F(l).props.tabPosition)]),style:Ye(B.value)},null,6))}});var Ve=ye(Re,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const Fe=O({panes:{type:ee(Array),default:()=>be([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Ae={tabClick:(e,s,r)=>r instanceof Event,tabRemove:(e,s)=>s instanceof Event},ue="ElTabNav",Ke=J({name:ue,props:Fe,emits:Ae,setup(e,{expose:s,emit:r}){const d=W(),l=ae(M);l||te(ue,"<el-tabs><tab-nav /></el-tabs>");const t=D("tabs"),u=Ze(),B=ea(),c=m(),C=m(),f=m(),y=m(),p=m(!1),a=m(0),h=m(!1),k=m(!0),w=q(()=>["top","bottom"].includes(l.props.tabPosition)?"width":"height"),n=q(()=>({transform:`translate${w.value==="width"?"X":"Y"}(-${a.value}px)`})),g=()=>{if(!c.value)return;const v=c.value[`offset${A(w.value)}`],b=a.value;if(!b)return;const o=b>v?b-v:0;a.value=o},$=()=>{if(!c.value||!C.value)return;const v=C.value[`offset${A(w.value)}`],b=c.value[`offset${A(w.value)}`],o=a.value;if(v-o<=b)return;const N=v-o>b*2?o+b:v-b;a.value=N},R=async()=>{const v=C.value;if(!p.value||!f.value||!c.value||!v)return;await le();const b=f.value.querySelector(".is-active");if(!b)return;const o=c.value,N=["top","bottom"].includes(l.props.tabPosition),P=b.getBoundingClientRect(),T=o.getBoundingClientRect(),E=N?v.offsetWidth-T.width:v.offsetHeight-T.height,S=a.value;let _=S;N?(P.left<T.left&&(_=S-(T.left-P.left)),P.right>T.right&&(_=S+P.right-T.right)):(P.top<T.top&&(_=S-(T.top-P.top)),P.bottom>T.bottom&&(_=S+(P.bottom-T.bottom))),_=Math.max(_,0),a.value=Math.min(_,E)},x=()=>{var v;if(!C.value||!c.value)return;e.stretch&&((v=y.value)==null||v.update());const b=C.value[`offset${A(w.value)}`],o=c.value[`offset${A(w.value)}`],N=a.value;o<b?(p.value=p.value||{},p.value.prev=N,p.value.next=N+o<b,b-N<o&&(a.value=b-o)):(p.value=!1,N>0&&(a.value=0))},I=v=>{const b=v.code,{up:o,down:N,left:P,right:T}=j;if(![o,N,P,T].includes(b))return;const E=Array.from(v.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),S=E.indexOf(v.target);let _;b===P||b===o?S===0?_=E.length-1:_=S-1:S<E.length-1?_=S+1:_=0,E[_].focus({preventScroll:!0}),E[_].click(),pe()},pe=()=>{k.value&&(h.value=!0)},Q=()=>h.value=!1;return V(u,v=>{v==="hidden"?k.value=!1:v==="visible"&&setTimeout(()=>k.value=!0,50)}),V(B,v=>{v?setTimeout(()=>k.value=!0,50):k.value=!1}),me(f,x),he(()=>setTimeout(()=>R(),0)),aa(()=>x()),s({scrollToActiveTab:R,removeFocus:Q}),V(()=>e.panes,()=>d.update(),{flush:"post",deep:!0}),()=>{const v=p.value?[i("span",{class:[t.e("nav-prev"),t.is("disabled",!p.value.prev)],onClick:g},[i(z,null,{default:()=>[i(ta,null,null)]})]),i("span",{class:[t.e("nav-next"),t.is("disabled",!p.value.next)],onClick:$},[i(z,null,{default:()=>[i(la,null,null)]})])]:null,b=e.panes.map((o,N)=>{var P,T,E,S;const _=o.uid,X=o.props.disabled,Y=(T=(P=o.props.name)!=null?P:o.index)!=null?T:`${N}`,Z=!X&&(o.isClosable||e.editable);o.index=`${N}`;const We=Z?i(z,{class:"is-icon-close",onClick:K=>r("tabRemove",o,K)},{default:()=>[i(sa,null,null)]}):null,je=((S=(E=o.slots).label)==null?void 0:S.call(E))||o.props.label,Ge=!X&&o.active?0:-1;return i("div",{ref:`tab-${_}`,class:[t.e("item"),t.is(l.props.tabPosition),t.is("active",o.active),t.is("disabled",X),t.is("closable",Z),t.is("focus",h.value)],id:`tab-${Y}`,key:`tab-${_}`,"aria-controls":`pane-${Y}`,role:"tab","aria-selected":o.active,tabindex:Ge,onFocus:()=>pe(),onBlur:()=>Q(),onClick:K=>{Q(),r("tabClick",o,Y,K)},onKeydown:K=>{Z&&(K.code===j.delete||K.code===j.backspace)&&r("tabRemove",o,K)}},[je,We])});return i("div",{ref:f,class:[t.e("nav-wrap"),t.is("scrollable",!!p.value),t.is(l.props.tabPosition)]},[v,i("div",{class:t.e("nav-scroll"),ref:c},[i("div",{class:[t.e("nav"),t.is(l.props.tabPosition),t.is("stretch",e.stretch&&["top","bottom"].includes(l.props.tabPosition))],ref:C,style:n.value,role:"tablist",onKeydown:I},[e.type?null:i(Ve,{ref:y,tabs:[...e.panes]},null),b])])])}}}),Le=O({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:ee(Function),default:()=>!0},stretch:Boolean}),G=e=>ua(e)||ia(e),Je={[Ce]:e=>G(e),tabClick:(e,s)=>s instanceof Event,tabChange:e=>G(e),edit:(e,s)=>["remove","add"].includes(s),tabRemove:e=>G(e),tabAdd:()=>!0};var Ue=J({name:"ElTabs",props:Le,emits:Je,setup(e,{emit:s,slots:r,expose:d}){var l,t;const u=D("tabs"),{children:B,addChild:c,removeChild:C}=Se(W(),"ElTabPane"),f=m(),y=m((t=(l=e.modelValue)!=null?l:e.activeName)!=null?t:"0"),p=n=>{y.value=n,s(Ce,n),s("tabChange",n)},a=async n=>{var g,$,R;if(!(y.value===n||_e(n)))try{await((g=e.beforeLeave)==null?void 0:g.call(e,n,y.value))!==!1&&(p(n),(R=($=f.value)==null?void 0:$.removeFocus)==null||R.call($))}catch{}},h=(n,g,$)=>{n.props.disabled||(a(g),s("tabClick",n,$))},k=(n,g)=>{n.props.disabled||_e(n.props.name)||(g.stopPropagation(),s("edit",n.props.name,"remove"),s("tabRemove",n.props.name))},w=()=>{s("edit",void 0,"add"),s("tabAdd")};return na({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},q(()=>!!e.activeName)),V(()=>e.activeName,n=>a(n)),V(()=>e.modelValue,n=>a(n)),V(y,async()=>{var n;await le(),(n=f.value)==null||n.scrollToActiveTab()}),oa(M,{props:e,currentName:y,registerPane:c,unregisterPane:C}),d({currentName:y}),()=>{const n=e.editable||e.addable?i("span",{class:u.e("new-tab"),tabindex:"0",onClick:w,onKeydown:R=>{R.code===j.enter&&w()}},[i(z,{class:u.is("icon-plus")},{default:()=>[i(ra,null,null)]})]):null,g=i("div",{class:[u.e("header"),u.is(e.tabPosition)]},[n,i(Ke,{ref:f,currentName:y.value,editable:e.editable,type:e.type,panes:B.value,stretch:e.stretch,onTabClick:h,onTabRemove:k},null)]),$=i("div",{class:u.e("content")},[ge(r,"default")]);return i("div",{class:[u.b(),u.m(e.tabPosition),{[u.m("card")]:e.type==="card",[u.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[g,$]:[$,g]])}}});const qe=O({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),ze=["id","aria-hidden","aria-labelledby"],ie="ElTabPane",He=J({name:ie}),Me=J({...He,props:qe,setup(e){const s=e,r=W(),d=da(),l=ae(M);l||te(ie,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const t=D("tab-pane"),u=m(),B=q(()=>s.closable||l.props.closable),c=ke(()=>{var a;return l.currentName.value===((a=s.name)!=null?a:u.value)}),C=m(c.value),f=q(()=>{var a;return(a=s.name)!=null?a:u.value}),y=ke(()=>!s.lazy||C.value||c.value);V(c,a=>{a&&(C.value=!0)});const p=ca({uid:r.uid,slots:d,props:s,paneName:f,active:c,index:u,isClosable:B});return he(()=>{l.registerPane(p)}),va(()=>{l.unregisterPane(p.uid)}),(a,h)=>F(y)?pa((L(),U("div",{key:0,id:`pane-${F(f)}`,class:fe(F(t).b()),role:"tabpanel","aria-hidden":!F(c),"aria-labelledby":`tab-${F(f)}`},[ge(a.$slots,"default")],10,ze)),[[ba,F(c)]]):se("v-if",!0)}});var de=ye(Me,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const Oe=ma(Ue,{TabPane:de}),De=fa(de);let ce,ve;ce={class:"label"},ve={__name:"tabs",emits:["active","success"],setup(e,{emit:s}){const r=m("site");s("active",r.value),V(r,a=>{s("active",a)});const d=m([]),l=()=>{we("ConfigTypeList").then(a=>{a.code==2e3&&(d.value=a.data),s("success")})};l();const t=m(""),u=m(!1),B=m(""),c=m({}),C=a=>{t.value==r.value&&(r.value=a.type,t.value=""),u.value=!1,l()},f=(a="",h={})=>{t.value=h.type,B.value=a,c.value=h,u.value=!0},y=(a,h)=>{B.value="\u6DFB\u52A0",c.value={},u.value=!0},p=(a,h)=>{if(!a){oe({message:"\u6CA1\u6709\u9009\u4E2D\u6570\u636E",type:"error"});return}t.value=h,ka.confirm("\u786E\u5B9A\u5220\u9664\u5417\uFF0C\u5C06\u540C\u65F6\u5220\u9664\u8BE5\u7C7B\u578B\u4E0B\u7684\u6240\u6709\u914D\u7F6E").then(()=>{we("ConfigTypeDel",{id:a}).then(k=>{k.code==2e3?(oe({message:k.msg,type:"success"}),t.value==r.value&&(r.value="site",t.value=""),l()):oe({message:k.msg,type:"error"})})}).catch(()=>{})};return(a,h)=>{const k=$e("EditPen"),w=z,n=$e("Close"),g=De,$=Oe,R=ha;return L(),U(ne,null,[i($,{modelValue:r.value,"onUpdate:modelValue":h[0]||(h[0]=x=>r.value=x),addable:"",type:"card",onEdit:y},{default:H(()=>[(L(!0),U(ne,null,ga(d.value,x=>(L(),Te(g,{name:x.type},{label:H(()=>[Ca("div",ce,_a(x.name),1),x.edit=="\u662F"?(L(),U(ne,{key:0},[i(w,{class:"icon",onClick:xe(I=>f("\u7F16\u8F91 "+x.name,x),["stop"])},{default:H(()=>[i(k)]),_:2},1032,["onClick"]),i(w,{class:"icon",onClick:xe(I=>p(x.id,x.type),["stop"])},{default:H(()=>[i(n)]),_:2},1032,["onClick"])],64)):se("",!0)]),_:2},1032,["name"]))),256))]),_:1},8,["modelValue"]),i(R,{modelValue:u.value,"onUpdate:modelValue":h[1]||(h[1]=x=>u.value=x),title:B.value,width:"80%"},{default:H(()=>[u.value?(L(),Te(wa,{key:0,data:c.value,onSubmit:C},null,8,["data"])):se("",!0)]),_:1},8,["modelValue","title"])],64)}}},Ne=ya(ve,[["__scopeId","data-v-badb838e"]])});export{Na as __tla,Ne as default};
